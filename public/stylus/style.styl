// COLOUR VARIABLES
charcoal = #303030
grey = #dfdfdf
white = #fafafa

blue = #245d76
cyan = #38609c
green = #388150
magenta = #bb4aa4
orange = #c35d3c
purple = #6c3196
red = #c32c44
yellow = #cd9d41

shadow_black = #777
dark_yellow = darken(yellow, 10)

// SCREEN VARIABLES
small_screen = 600px
medium_screen = 850px
large_screen = 1200px

// MIXINS-----------------------------------------------
btn-full(c)
    background: c

    &:hover
        border: 4px solid c
        background: lighten(c, 10)

    &:active
        background: darken(c, 10)
        border: 4px solid darken(c, 10)

btn-color(args, c)
    background: args
    border-bottom: 5px solid darken(args, 10)
    border-left: 5px solid lighten(args, 10)
    border-right: 5px solid darken(args, 10)
    border-top: 5px solid lighten(args, 10)
    color: c
    

    &:hover
        background: lighten(args, 5)
        border-bottom: 5px solid darken(args, 5)
        border-left: 5px solid lighten(args, 15)
        border-right: 5px solid darken(args, 5)
        border-top: 5px solid lighten(args, 15)

    &:active
        background: darken(args, 15)
        border-top: 5px solid darken(args, 25)
        border-left: 5px solid darken(args, 25)

transition(time, prop, ease="ease-in-out")
    -webkit-transition: time prop ease
    -moz-transition: time prop ease
    -ms-transition: time prop ease
    -o-transition: time prop ease
    transition: time prop ease

//--------------------------------------------------------

*, *:before, *:after
    -webkit-box-sizing: border-box
    -moz-box-sizing: border-box
    box-sizing: border-box

.clearfix:before,
.clearfix:after
    content: " "
    display: table
 
.clearfix:after
    clear: both

 
/* IE6/7 support */
.clearfix
    *zoom: 1


html, body 
    height: 100%
    width: 100%
    -webkit-font-smoothing: antialiased

body
    font: 14px "Lato", Helvetica, Arial, sans-serif
    background: grey
    color: charcoal
h1
    color: blue
    font: 60pt "Roboto Slab", Helvetica, Arial, sans-serif
    letter-spacing: -3px
    font-weight: 700
    margin: 0

    i
        color: yellow
        font-style: normal


.fade-out
    opacity: 0!important
    transition(250ms, opacity, ease-in-out)
   
.fade-in
    opacity: 1!important
    transition(300ms, opacity, linear)

.hidden
    display: none

#wrapper
    opacity: 0
    height: 100%
    width: 100%

.small
    font-size: 10pt

.error-message
    color: red

.topbar 
    background: charcoal
    height: 60px
    left: 0
    padding: 5px 15px
    position: fixed
    right: 0
    top: 0
    z-index: 100

    h1
        color: white
        font-size: 30pt
        -webkit-text-stroke: 1px charcoal

#splash-page
    background: white
    border: 1px solid darken(grey, 10)
    left: 20%
    opacity: 1
    padding: 40px
    position: absolute
    right: 20%
    text-align: center
    top: 5%
    

    p.description
        font-size: 16pt
        font-weight: 300

#main 
    height: 100%
    width: 100%
    padding-top: 60px
    padding-left: 15px

color_list = ( blue orange cyan magenta purple )
for num in (0..4)
    .course-item-container:nth-child({num + 11}) > .course-item,
    .course-item-container:nth-child({num + 6}) > .course-item,
    .course-item-container:nth-child({num + 1}) > .course-item
        color: color_list[num]
        .button-full
            btn-full(color_list[num])
        .assessment-item
            .title
                background: color_list[num]
                color: white
                border: 1px solid color_list[num]

            &:hover
                cursor: pointer
                -webkit-box-shadow: 0 0 5px color_list[num]
                -moz-box-shadow: 0 0 5px color_list[num]
                box-shadow: 0 0 5px color_list[num]

                .title
                    background: lighten(color_list[num], 6)

.course-item-container.empty > .course-item
    box-shadow: none
    color: darken(grey, 30)
    cursor: pointer
    opacity: 0.8
    transition(200ms, all, ease-in-out)
    
    .content-container
        font-size: 28pt
        font-family: "Roboto Slab", Georgia, Times, serif
        text-align: center

        i 
            margin: 0
            font-style: normal
            position: relative
            top: 15px
            font-size: 35pt
    
    &:hover
        color: charcoal
        opacity: 1

.course-item-container
    width: (100 / 5)%
    padding: 15px 15px 15px 0px
    height: 100%
    float: left
    transition(500ms, all, ease-in-out)

    @media (max-width: 1366px)
        width: (100 / 4)%

    @media (max-width: large_screen)
        width: (100 / 3)%

    @media (max-width: medium_screen)
        width: (100 / 2)%

    @media (max-width: small_screen)
        width: (100 / 1)%

.assessments-container
    height: 100%
    position: relative
    margin-top: 20px
    padding: 5px

.assessment-item
    font-size: 10pt
    width: 100%
    display: block
    clear: both
    margin-top: 25px
    float: left
    position: relative
    transition(200ms, all, ease-in-out)

    &:after
        content: "Click to edit"
        font-size: 8pt
        padding: 5px
        position: absolute
        right: 0
        left: 0
        top: -0px
        z-index: -1
        color: white
        background: charcoal
        opacity: 0
        text-align: center
        transition(200ms, all, ease-in-out)

    &:hover:after
        z-index: 5
        opacity: 0.9
        top: -23px

    
    .title, .mark, .weight
        padding: 5px 10px

    .title
        position: relative
        white-space: nowrap
        overflow: hidden
        text-overflow: ellipsis
        transition(200ms, all, ease-in-out)
        background: charcoal
        color: white

    .weight, .mark
        font-size: 16pt
        float: left
        width: 50%
        text-align: center
        border-bottom: 1px solid

    .weight
        border-left: 1px solid
        border-right: 1px solid

    .mark
        border-left: 1px solid
        font-weight: 700

    @media (max-width: small_screen)
        margin-top: 5px

        &:after
            opacity: 0
            left: 0
            right: 30%
            bottom: 0
            top: 0!important
            padding-top: 12px

        &:hover:after
            opacity: 0.8

        .title, .mark, .weight 
            display: inline-block
            margin: 0
            float: left
            

        .title
            width: 70%
            white-space: nowrap
            overflow: hidden
            text-overflow: ellipsis
            padding: 10px 15px

        .weight, .mark
            padding: 10px 0px
            font-size: 10pt
            width: 15%
            text-align: center
            font-weight: bolder
            border-bottom: 1px solid
            border-top: 1px solid
            border-right: 1px solid



.course-item
    background: white
    box-shadow: 0px 1px 1px shadow_black
    height: 100%
    width: 100%
    position: relative
    border-top: 5px solid
    padding-top: 10px

.content-container
    height: auto
    max-height: 90%
    overflow-y: auto
    padding: 0px 15px 20px 15px


.course-title-container
    font-family: "Roboto Slab", Georgia, Times, serif;
    font-size: 19pt
    -webkit-text-stroke: 1px
    margin-top: 0

input[type="text"].edit
    background: darken(white, 10)
    border: none
    border-bottom: 3px solid
    width: 100%
    outline: none

.add-assessment-container
    padding: 10px 20px
    margin-top: 10px
    clear: both
    text-align: center
        

.grade-container
    position: absolute
    bottom: 0
    left: 0
    right: 0
    z-index: 5
    background: grey
    border-top: 1px solid grey
    text-align: center
    padding: 10px
    transition(350ms, all, ease-in-out)

    &:hover
        cursor: pointer
        border-top: 10px solid rgba(white, 0.3)

    span.grade
        font-size: 22pt
        font-weight: bolder
        color: white

    colors = #c33b41 #c3583c #cd823d #cd963f #c39d42 #9e9946 #6e8e4b #46854f
    for i in (0..8)
        &.above-{50 + (i * 5)}
            background: colors[i]
                
    &.below-50
        background: #c33043

.button
    display: inline-block
    padding: 5px 15px
    cursor: pointer
    background: #333
    font-weight: 700
    color: white

    &.button-large
        font-size: 20pt
        padding: 10px 25px

    &.button-round
        border-radius: 999px
        padding: 10px 15px
        transition(150ms, all, ease-in-out)    

        &:hover
            background: lighten(#333, 10);

    &.button-blue
        btn-color(blue, white)

    &.button-red
        btn-color(red, white)

    &.button-yellow
        btn-color(yellow, charcoal)

    &.button-cyan
        btn-color(cyan, charcoal)

.contenteditable
    outline: none
    display: inline-block
    min-width: 40px
    min-height: 20px
    
    &:hover,
    &.editing
        background: darken(grey, 5)

.modal-overlay
    position: fixed
    width: 100%
    height: 100%
    top: 0
    left: 0
    z-index: 1000
    background: rgba(charcoal, 0.8)
    transition(300ms, all, linear)
    opacity: 0
    visibility: hidden

.modal-window
    position: fixed
    top: 50%
    left: 50%
    width: 50%
    max-width: 630px
    min-width: 320px
    height: auto
    z-index: 2000
    visibility: hidden
    backface-visibility: hidden
    -webkit-transform: translateX(-50%) translateY(-50%)
    -moz-transform: translateX(-50%) translateY(-50%)
    -ms-transform: translateX(-50%) translateY(-50%)
    -o-transform: translateX(-50%) translateY(-50%)
    transform: translateX(-50%) translateY(-50%)

.modal-content
    color: charcoal
    background: white
    position: relative
    margin: 0 auto;

    .modal-title
        text-align: center
        font-size: 24pt
        font-family: "Roboto Slab", Georgia, Times, serif
        border-top: 5px solid blue
        background: rgba(blue, 0.8)
        color: white
        padding: 15px 15px
        margin: 0
        -webkit-text-stroke: 1px rgba(blue, 0.5)

        &.secondary
            background: rgba(yellow, 0.8)
            border-top: 5px solid yellow
            -webkit-text-stroke: 1px rgba(yellow, 0.5)

        &.green
            background: rgba(green, 0.8)
            border-top: 5px solid green
            -webkit-text-stroke: 1px rgba(green, 0.5)

    & > div
        padding: 15px 20px 30px
        margin: 0
        font-size: 14pt

        .row
            width: 100%
            clear: both

            & > div
                padding: 5px

        span.current-grade,
        span.target-grade,
        span.remaining-average,
        span.remaining-weight,
        span.highest-mark,
        span.highest-assessment-title,
        span.lowest-mark,
        span.lowest-assessment-title
            font-weight: bold

        span.current-grade,
        span.target-grade,
        span.remaining-average,
        span.remaining-weight,
        span.highest-mark,
        span.lowest-mark
        
            &:after
                content: "%"

        span.remaining-average
            color: red

                

        span.highest-assessment-title,
        span.lowest-assessment-title
            color: blue

        .label-container
            width: 30%
            max-width: 200px
            float: left
            text-align: right

            .small
                color: charcoal
                background: grey
                
            label
                font-family: "Roboto Slab", Georgia, Times, serif
                font-weight: bold
                position: relative
                top: 5px

            @media (max-width: medium_screen)
                width: 100%
                text-align: center
                max-width: none

        .field-container
            width: 70%
            float: left
            text-align: center

            @media (max-width: medium_screen)
                width: 100%


            input[type="text"]
                text-align: center
                border: none
                border-bottom: 1px dashed charcoal
                background: white
                font-size: 18pt
                color: red

                &:focus
                    outline: none

                &.text-input
                    width: 100%

                &.number-input
                    max-width: 60px

        .button-container
            text-align: center
            margin-top: 10px

        .modal-button
            background: grey
            border: 1px solid transparent
            padding: 5px 15px
            margin: 5px 2px
            font-size: 12pt

            &:active
                outline: none
            &.button-primary
                background: blue
                color: white

                &:hover
                    background: lighten(blue, 10)

            &.button-secondary
                background: yellow
                color: white
                
                &:hover
                    background: lighten(yellow, 10)                

            &.button-cancel
                background: red
                color: white

                &:hover
                    background: lighten(red, 10)

            &.button-grey
                background: grey
                color: charcoal
                
                &:hover
                    background: lighten(charcoal, 10)
                    color: white

.modal-show
    visibility: visible

.modal-show ~ .modal-overlay
    opacity: 1
    visibility: visible

// SLIDE FROM RIGHT TO LEFT EFFECT
.effect-slide-left .modal-content
    opacity: 0
    transition(300ms, all, cubic-bezier(0.25, 0.5, 0.5, 0.9))
    -webkit-transform: translateX(20%)
    -moz-transform: translateX(20%)
    -ms-transform: translateX(20%)
    -o-transform: translateX(20%)
    transform: translateX(20%)

.modal-show.effect-slide-left .modal-content
    opacity: 1
    -webkit-transform: translateX(0)
    -moz-transform: translateX(0)
    -ms-transform: translateX(0)
    -o-transform: translateX(0)
    transform: translateX(0)

// FLIP VERTICAL
.effect-flip-vertical.modal-window
    -webkit-perspective: 1300px
    -moz-perspective: 1300px
    perspective: 1300px

.effect-flip-vertical .modal-content
    -webkit-transform-style: preserve-3d
    -moz-transform-style: preserve-3d
    transform-style: preserve-3d
    -webkit-transform: rotateX(-70deg)
    -moz-transform: rotateX(-70deg)
    -ms-transform: rotateX(-70deg)
    transform: rotateX(-70deg)
    transition(0.3s, all)
    opacity: 0

.modal-show.effect-flip-vertical .modal-content
    -webkit-transform: rotateX(0deg)
    -moz-transform: rotateX(0deg)
    -ms-transform: rotateX(0deg)
    transform: rotateX(0deg)
    opacity: 1
